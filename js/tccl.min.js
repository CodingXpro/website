!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("tccl",[],e):"object"==typeof exports?exports.tccl=e():t.tccl=e()}(window,(function(){return e=[function(t,e,n){"use strict";function o(){return s.window}e.parseCookie=e.isSupported=e.isCorporateHost=e.getWindow=e.getNavigator=e.getHost=e.getDocument=e.getBaseHost=void 0,n(2);var r,i,a,s=(r="",a={document:i=Object.create({get cookie(){return r},set cookie(t){r=t}})},n={},"undefined"==typeof window?{window:a,document:i,navigator:n}:{window:window||a,document:window.document||i,navigator:navigator||n});function u(){return s.navigator}function c(){var t=o().location;return t&&t.hostname?t.hostname:""}function f(){var t=c(),e=t.split(".");return 2<=e.length&&"co.uk"===(t=e.splice(e.length-2).join("."))?e.pop()+"."+t:t}e.getBaseHost=f,e.getDocument=function(){return s.document},e.getHost=c,e.getNavigator=u,e.getWindow=o,e.isCorporateHost=function(t){return!!~(t=t||f()).indexOf("godaddy.com")||!!~t.indexOf("secureserver.net")},e.isSupported=function(){var t=u().userAgent.toLowerCase();return!/msie [1-8]\./.test(t)},e.parseCookie=function(t){for(var e=t.split(";"),n=Object.create(null),o=0;o<e.length;o++){var r,i=/([^=]*)*=([\s\S]*)/.exec(e[o]);i&&i[2]&&(r=i[1].trim(),i=decodeURIComponent(i[2].trim()),n[r]=i)}return n}},function(t,e,n){"use strict";function o(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.getWindow)().console,function(){}}function r(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,a.getWindow)().console,function(){}}e.__esModule=!0,e._errorInit=e._logInit=e.error=e.info=e.debug=e.log=void 0;var i=n(7),a=n(0),s=o();n=r();e.log=s,e.debug=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];(0,i.isDebug)()&&s.apply(null,e)},e.info=s,e.error=n,e._logInit=o,e._errorInit=r},function(t,e,n){"use strict";function o(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var o=t[n];try{if(e(n,o))return t}catch(t){}}return t}function r(t){if(2===t.length)return t[1]}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports={cleanKeyNames:function(t,e,n){t&&e&&o(t,(function(o,r){var i=(o+"").split(e).join(n||"");delete t[o],t[i]=r}))},map:o,merge:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r={},a=0;a<e.length;a++){var s=e[a];"object"===(void 0===s?"undefined":i(s))&&o(s,(function(t,e){r[t]=e}))}return r},parseString:function(t,e,n){if("string"!=typeof t)return{};for(var o={},i=t.split(e),a=0;a<i.length;a++){var s=i[a].split(n);o[s[0]]=r(s)}return o},parseValue:r,stringify:function(t,e,n){var r=[];return o(t,(function(t,e){r.push(""+t+n+e)})),0===r.length?"":r.join(e)},removeUndefined:function t(e){for(var n in e)void 0===e[n]?delete e[n]:"object"===i(e[n])&&(t(e[n]),0===Object.keys(e[n]).length&&delete e[n])}}},function(t,e,n){"use strict";function o(t){return"[object Array]"===Object.prototype.toString.call(t)}e.getUnique=e.logToArray=e.isArray=void 0;var r=n(13);e.isArray=o,e.logToArray=function(t,e){o(t)&&t.push({timestamp:(0,r.getISODate)(),data:e})},e.getUnique=function(t){return t&&t.filter((function(t,e,n){return e===n.indexOf(t)}))}},function(t,e,n){"use strict";e.__esModule=!0,e.getConfig=void 0;var o,r=new(((o=n(6))&&o.__esModule?o:{default:o}).default);e.getConfig=function(t,e){if((t=r.get(t))&&e)return t[e]},e.default=r},function(t,e,n){"use strict";function o(t,e){(0,i.getWindow)()[a]&&((0,i.getWindow)()[a][t]=e)}function r(t,e){(0,i.getWindow)()[t]=e,o(t,e)}e.libraryLoaded=e.setClientName=e.setWindowVar=e.setInternalVar=e.getInternalVar=void 0;var i=n(0),a=void n(1),s=void 0;e.getInternalVar=function(t){if((0,i.getWindow)()[a])return(0,i.getWindow)()[a][t]},e.setInternalVar=o,e.setWindowVar=r,e.setClientName=function(t){a="_"+(s=t)+"Internal"},e.libraryLoaded=function(){var t="_"+s+"PageReqFired";return!!(0,i.getWindow)()[t]||(r(t,!0),void 0!==(0,i.getWindow)()[a]||!((0,i.getWindow)()[a]={}))}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(2);function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.properties=t||{}}r.prototype.clear=function(){this.properties={}},r.prototype.get=function(t){if(this.properties.hasOwnProperty(t))return this.properties[t]},r.prototype.set=function(t,e){this.properties[t]=e},r.prototype.isSet=function(t){if(this.properties.hasOwnProperty(t))return!0},r.prototype.delete=function(t){delete this.properties[t]},r.prototype.getProperties=function(t){var e={},n=t||"function"!=typeof t?function(){return!1}:t;return(0,o.map)(this.properties,(function(t,o){n(t)||(e[t]=o)})),e},r.prototype.merge=function(t){var e=this,n=t;t instanceof r&&(n=t.getProperties()),(0,o.map)(n,(function(t,n){e.set(t,n)}))},n=r,e.default=n},function(t,e,n){"use strict";var o=void 0,r=!1;e.isDebug=function(){return r},e.setDebug=function(t){r=!0===t||"true"===t},e.init=function(t){o=t},e.getEnvName=function(){return o}},function(t,e,n){"use strict";e.processPageLevelProperties=e.getPageLevelProperties=e.init=void 0;var o,r=n(3),i=n(5),a=n(7),s=n(0),u=(n(1),n(2)),c=(o=n(4))&&o.__esModule?o:{default:o};function f(t){for(var e,n=Array.isArray(r=g),o=0,r=n?r:r[Symbol.iterator]();;){if(n){if(o>=r.length)break;e=r[o++]}else{if((o=r.next()).done)break;e=o.value}var i=e;if(t.startsWith(i+"."))return!1}return!0}function p(t,e){"debug"===t&&(0,a.setDebug)(e)}function l(){var t=function(){for(var t={},e=0;e<h.length;e++){var n=h[e];(0,u.map)(n,(function(e,n){~v.indexOf(e.toLowerCase())||(p(e,n),f(e)||(t[e]=n))}))}return t}();(function(t){var e={identity:{realm:t["tcc.realm"]},site:{privateLabelId:t["tcc.privateLabelId"]},timing:{manual:t["tcc.manualPagePerf"]},page:{spa:t["tcc.spa"],id:t["tcc.pageId"],contentGroup:t["tcc.gaContentGroup"]||t["tcc.contentGroup"]},cookie:{sameSite:t["tcc.cookies.sameSite"]}};Object.keys(e).forEach((function(t){Object.keys(e[t]).forEach((function(n){var o,r,i;i=e[o=t][r=n],n=c.default.get(o)||{},i&&(n[r]=i),c.default.set(o,n)}))}))})(t),c.default.merge(t),(0,r.logToArray)(y,t)}n(23);var d,h=void 0,y=[],g=void 0,v=void 0,m={},b=0;e.init=function(t,e,n){v=n||[],d=t,g=e,h=(0,s.getWindow)()[d]||[],(0,i.setWindowVar)(d,h),(0,i.setInternalVar)(d+"Log",y),l()},e.getPageLevelProperties=function(){return(0,u.merge)(m)},e.processPageLevelProperties=function(){for(;b<h.length;){var t=h[b];(0,u.map)(t,(function(t,e){~v.indexOf(t.toLowerCase())||f(t)&&(p(t,e),m[t]=e)})),b++}}},function(t,e,n){"use strict";e.setCookie=e.findCookie=void 0;var o=n(0),r=(n(2),n(4)),i=void 0,a=void 0;e.findCookie=function(t){var e=(0,o.getDocument)().cookie;return i!==e&&(a=(0,o.parseCookie)(e),i=e),a[t]},e.setCookie=function(t,e,n,i){var a=(0,r.getConfig)("cookie","sameSite")||"",s=new Date;s.setTime(s.getTime()+60*n*1e3),(0,o.getDocument)().cookie=t+"="+encodeURI(e)+"; domain="+(0,o.getBaseHost)()+"; "+(n?"expires="+s.toGMTString()+"; ":"")+(i?"path="+i+"; ":"")+(a?"SameSite="+a+"; ":"")+("NONE"==a.toUpperCase()?" Secure;":"")}},function(t,e,n){"use strict";e.createGuid=void 0;var o=f(n(25)),r=n(0),i=n(9),a=n(15),s=n(16),u=n(13),c=f(n(30));function f(t){return t&&t.__esModule?t:{default:t}}var p=function(){var t=(0,r.getWindow)().crypto;return(p=t&&t.getRandomValues?function(){try{var e=new Int32Array(1);return t.getRandomValues(e),e[0]}catch(e){return(p=s.rand)()}}:s.rand)()},l=void 0,d=void 0;e.createGuid=function(){return(0,o.default)(function(){var t=(0,r.getWindow)();l||(e=(0,r.getNavigator)(),l=e.userAgent.replace(/\D+/g,"")+e.plugins.length,e=t.screen,d=(e.height||"")+(e.width||"")+(e.pixelDepth||""));var e=[(0,s.rand)(),l,(0,u.getDate)().getMilliseconds(),d,p(),(0,i.findCookie)("market"),(0,a.getCustomerId)()||"",(0,r.getDocument)().referrer,t.location.href,JSON.stringify(c.default.getProperties())];return t.performance&&t.performance.now&&e.push(t.performance.now()),e.join("")}(),"d9a11081-301d-478b-98df-6511799184e5")}},function(t,e,n){"use strict";e.__esModule=!0;var o=l(n(39)),r=l(n(6)),i=n(19),a=n(43),s=n(16),u=l(n(21)),c=l(n(12)),f=n(8),p=l(n(4));function l(t){return t&&t.__esModule?t:{default:t}}var d,h=(0,s.rand)();(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(y,d=o.default),y.prototype.process=function(){var t=this;d.prototype.process.call(this,{ALL:function(){t._handleEventSvc()}})},y.prototype._handleEventSvc=function(){(0,i.sendEvent)(this.pageEvent.getProperties(),"/t/1/tl/event")},y.prototype.preProcess=function(){this.tData=new c.default,this.tData.merge(this.data.ALL.custom_properties),this.pageEvent=new r.default,this.pageEvent.set("usrin",this.tData.stringify());var t=(e=(new u.default).getVisitInfo()).visitorGuid,e=e.visitGuid;this.pageEvent.set("cts",(new Date).getTime()),this.pageEvent.set("dh",(0,a.getHostname)()),this.pageEvent.set("dr",(0,a.getReferrer)(1e3)),this.pageEvent.set("ua",(0,a.getUserAgent)()),this.pageEvent.set("vci",h),this.pageEvent.set("cv",p.default.get("tccl.buildVersion")),this.pageEvent.set("z",(0,s.rand)()),this.pageEvent.set("vg",e),this.pageEvent.set("vtg",t),this.pageEvent.set("dp",(0,a.getPageName)()),t=(0,f.getPageLevelProperties)(),this.pageEvent.set("ap",t.ap||"not_set"),this.pageEvent.set("trfd",JSON.stringify(t)),this.pageEvent.set("hit_id",this.internal.eventId)},o=y;function y(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,y),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,d.apply(this,arguments))}e.default=o},function(t,e,n){"use strict";e.__esModule=!0,e.getObjFromTDataString=e.getObjFromTDataList=void 0;var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(1),a=n(3),s=n(2);n=(o=n(6))&&o.__esModule?o:{default:o};function u(t){return(0,s.parseString)(t,"^",",")}var c;(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(f,c=n.default),f.prototype.setTDataString=function(t){c.prototype.merge.call(this,u(t))},f.prototype.stringify=function(){var t=this.getProperties();if((0,s.cleanKeyNames)(t,".","_"),t=(0,s.stringify)(t,"^",","))return t},f.prototype.set=function(t,e){"object"!==(void 0===e?"undefined":r(e))&&"[object Function]"!=={}.toString.call(e)?c.prototype.set.call(this,t,e):(0,i.error)("Invalid key/value pair found in Traffic's custom properties (tData). Objects, arrays, and functions are not supported.\n\nKey: '"+t+"' Value: '"+e+"' Type: '"+(void 0===e?"undefined":r(e))+"'.")},n=f;function f(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,c.apply(this,arguments))}e.default=n,e.getObjFromTDataList=function(t){var e={};if((0,a.isArray)(t))for(var n=0;n<t.length;n++){var o=t[n];(0,a.isArray)(o)&&(e[o[0]]=(0,s.parseValue)(o))}return e},e.getObjFromTDataString=u},function(t,e,n){"use strict";e.getDate=e.getISODate=void 0;var o=n(14);e.getISODate=function(){return e=(t=new Date).getUTCFullYear()+"-"+(0,o.pad)(1+t.getUTCMonth()),e+="-"+(0,o.pad)(t.getUTCDate())+"T"+(0,o.pad)(t.getUTCHours())+":",(e+=(0,o.pad)(t.getUTCMinutes())+":"+(0,o.pad)(t.getUTCSeconds())+".")+((""+(t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z");var t,e},e.getDate=function(){return new Date}},function(t,e,n){"use strict";e.pad=function(t,e){if(void 0===t)return t;void 0===e&&(e=2);for(var n=""+t;n.length<e;)n="0"+n;return n},e.startsWith=function(t,e,n){return t.substr(!n||n<0?0:+n,e.length)===e}},function(t,e,n){"use strict";function o(){return!function(t){return Object.keys(t).length<1}(a)}function r(t,e,n){var o=t.typ;if(void 0===n||!o||o===n)return(o=t.auth)&&"basic"!==o?r(t[o],e,n):t[e]}e.getCustomerId=e.getClaimFromInfoToken=void 0,n(9);var i=n(29),a={};e.getClaimFromInfoToken=function(t){if(o())return r(a,t)},e.getCustomerId=function(t){if(o())return function(t,e){return t?e?(0,i.sha256)(e):void 0:e}(t,r(a,"info_cid"))}},function(t,e,n){"use strict";e.rand=function(){return Math.floor(2147483647*Math.random())}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),r=n(5),i=n(3);function a(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),this.dataLayerName=t,this.dataLayerLog=[],this.asyncCommands=[],this.loaded=!1,this.dataLayers=[],(0,i.isArray)(this.dataLayerName)||(this.dataLayerName=[this.dataLayerName]),this.dataLayerName.forEach((function(t){var n,i=(0,o.getWindow)()[t];i&&(n=e.asyncCommands).push.apply(n,i),(0,r.setWindowVar)(t,e),e.dataLayers.push(i)}))}n(1),a.prototype.start=function(){this.loadAsyncCommands()},a.prototype.pushLog=function(t){(0,i.logToArray)(this.dataLayerLog,t)},a.prototype.process=function(){},a.prototype.push=function(t){this.loaded?this.process(t):this.asyncCommands.push(t)},a.prototype.loadAsyncCommands=function(){for(;0<this.asyncCommands.length;)this.process(this.asyncCommands.shift());this.loaded=!0},n=a,e.default=n},function(t,e,n){"use strict";e.ObjectDefinitionBlock=e.PropertyDefinitionBlock=e.SchemaDefinitionBlock=void 0;var o,r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(3),a=(o=n(6))&&o.__esModule?o:{default:o},s=n(33);function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){var n=t.name;return void 0!==e&&(t.outputKeys[e]||t.outputKeys.ALL)?t.outputKeys[e]||t.outputKeys.ALL:n}function l(t,e,n,o){var a=void 0;if(e._fieldType!==s.CALCULATED_FIELD&&(u=t[e.name],e._resolutionType===s.SUBSTITUTE&&(u=t),a=e.parse(u,n)),"object"!==r(e.transformMap))return"function"==typeof e.transformMap?e.transformMap(a,o):e.transformMap;for(var u,c=(0,i.isArray)(e.transformMap)?e.transformMap:(u=n,n=(t=e.transformMap).ALL||[],u=t[u]||[],u=[].concat(n).concat(u),(0,i.getUnique)(u)),f=0;f<c.length;f++)a=c[f](a,o);return e._outputType&&e._outputType===s.STRING_TYPE?a.toString():a}function d(t,e){return t.doNotOutputList.includes(e)||t.doNotOutputList.includes("ALL")}var h=(y.prototype.parse=function(t,e){if(this.validate(t),this._fieldType!==s.OPTIONAL_FIELD||t){for(var n=new a.default,o=0;o<this.properties.length;o++){var r,i=this.properties[o];0<i.sinkList.length&&!~i.sinkList.indexOf(e)||(r=l(t,i,e,n.getProperties()),i._resolutionType===s.MAPPING?n.set(p(i,e),r):d(i,e)||n.merge(r))}for(var u=0;u<this.properties.length;u++)d(this.properties[u],e)&&n.delete(p(this.properties[u],e));return n.getProperties()}},y.prototype.validate=function(t){if(this._fieldType===s.REQUIRED_FIELD&&!t)throw"Missing required property '"+this.name+"'";if(0<this.allowedValuesList.length&&!this.allowedValuesList.includes(t))throw"Input '"+t+"' for property '"+this.name+"' is not one of the allowed values ("+this.allowedValuesList+")."},y.prototype.optional=function(){return this._fieldType=s.OPTIONAL_FIELD,this},y.prototype.required=function(){return this._fieldType=s.REQUIRED_FIELD,this},y.prototype.load=function(t){for(var e=0;e<this.properties.length;e++){var n=this.properties[e];n.commandSchemaDefinitions=this.commandSchemaDefinitions,n.load(t)}},y.prototype.stringify=function(){for(var t=new a.default,e=0;e<this.properties.length;e++){var n=this.properties[e];t.merge(n.stringify())}return t.getProperties()},y.prototype.clean=function(){for(var t=0;t<this.properties.length;t++)this.properties[t].clean();this.properties=[]},y.prototype.transform=function(t){return this.transformMap=t,this},y.prototype.transformKeys=function(t){return this.outputKeys=t,this},y.prototype.sinks=function(t){return this.sinkList=t,this},y.prototype.allowedValues=function(t){return this.allowedValuesList=t,this},y.prototype.doNotOutput=function(t){return void 0===t?this.doNotOutputList=["ALL"]:"string"==typeof t?this.doNotOutputList=[t]:(0,i.isArray)(t)&&(this.doNotOutputList=t),this},y.prototype.outputType=function(t){return this._outputType=t,this},y);function y(t){f(this,y),this.name=t,this.properties=[],this.definitionType="",this._outputType,this._resolutionType=s.MAPPING,this._fieldType=s.OPTIONAL_FIELD,this.doNotOutputList=[],this.outputKeys={},this.sinkList=[],this.commandSchemaDefinitions={},this.transformMap={},this.allowedValuesList=[]}var g,v=(c(m,g=h),m.prototype.load=function(t){this.properties=this.properties.concat(this.schema.data),g.prototype.load.call(this,t)},m.prototype.parse=function(t,e){var n=e||this.schema.sinks||[],o={};if(this.schema.data&&0<this.schema.data.length)try{~n.indexOf("ALL")||(n=n.concat(["ALL"]));for(var r=0;r<n.length;r++){var i=n[r];this.load(i),o[i]=g.prototype.parse.call(this,t||{},i),this.clean()}}catch(t){throw""}return Object.freeze(o)},m);function m(t,e,n,o){return f(this,m),(e=u(this,g.call(this,e))).commandSchemaDefinitions=t,e.type=n,e.version=o,e.definitionType="Schema",e.schema=function(t,e,n,o){if(e=t[e]){if(((0,i.isArray)(e)||n)&&(e=function(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(e===o.type)return o}}(e,n),!e))return;if(o=e[o])return o}}(e.commandSchemaDefinitions,e.name,e.type,e.version),e}var b,_=(c(w,b=h),w.prototype.parse=function(t){return this.validate(t),t},w.prototype.stringify=function(){var t={};return t[this.name]=this._fieldType,t},w);function w(t){return f(this,w),u(this,b.call(this,t))}var E,L,S;c(T,E=h),T.prototype.load=function(t){this.properties=this.properties.concat(this.objDefinitions),this.extraDefinitions&&(this.properties=this.properties.concat(this.extraDefinitions)),E.prototype.load.call(this,t)},T.prototype.stringify=function(){if(this._resolutionType!==s.MAPPING)return E.prototype.stringify.call(this);var t={};return t[this.name+" ("+this._fieldType+")"]=E.prototype.stringify.call(this),t},T.prototype.substitute=function(t){return this.objDefinitions=t,this._resolutionType=s.SUBSTITUTE,this},T.prototype.map=function(t,e){return this.name=t,this.objDefinitions=e,this._resolutionType=s.MAPPING,this},T.prototype.extend=function(t){return this.extraDefinitions=t,this},n=T;function T(){f(this,T);var t=u(this,E.call(this));return t.objDefinitions=[],t.definitionType="Object",t}function P(){f(this,P);var t=u(this,L.call(this));return t.definitionType="Collection",t.minElements=0,t}c(P,L=n),P.prototype.parse=function(t,e){if(t&&!(0,i.isArray)(t))throw"";if(this.minElements&&(!t||t.length<this.minElements))throw"";var n=[];if(t)for(var o=0;o<t.length;o++)n.push(L.prototype.parse.call(this,t[o],e));return n},P.prototype.stringify=function(){if(this._resolutionType!==s.MAPPING)return L.prototype.stringify.call(this);var t={};t[this.minElements+"...n"]=L.prototype.stringify.call(this)[this.name+" ("+this._fieldType+")"];var e={};return e[this.name+" ("+this._fieldType+")"]=t,e},P.prototype.withMinElements=function(t){return this.minElements=t,this._fieldType=0<t?s.REQUIRED_FIELD:s.OPTIONAL_FIELD,this},c((function t(e){return f(this,t),e=u(this,S.call(this,e)),e._fieldType=s.CALCULATED_FIELD,e}),S=h),e.SchemaDefinitionBlock=v,e.PropertyDefinitionBlock=_,e.ObjectDefinitionBlock=n},function(t,e,n){"use strict";e.sendEvent=e.init=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=n(20),i=n(2),a=n(41),s=n(42),u=n(5);e.init=function(){(0,u.setInternalVar)("_trfqSendLog",[])},e.sendEvent=function(t,e){var n;e=(0,a.buildCorporateUrl)("events.api")+e,t=(0,r.encodeProperties)((n={},(0,i.map)(t,(function(t,e){void 0!==e&&"object"!==(void 0===e?"undefined":o(e))&&"[object Function]"!=={}.toString.call(e)&&(n[t]=e)})),n)),e=(0,r.assembleUrl)(t,e);(0,s.makeRequest)(e,(0,i.stringify)(t,"&","="),"GET",null,"_trfqSendLog")}},function(t,e,n){"use strict";function o(){var t=(0,r.getWindow)().location.search;return""===t?[]:(t=(0,a.startsWith)(t,"?")?t.substring(1):t).split("&")}e.getQueryStringParameter=e.assembleUrl=e.encodeProperties=void 0;var r=n(0),i=n(2),a=(n(40),n(14));e.encodeProperties=function(t){var e={};return(0,i.map)(t,(function(t,n){void 0!==n&&(e[t]=encodeURIComponent(n))})),e},e.assembleUrl=function(t,e){var n=~e.indexOf("?")?"&":"?";return e+n+(0,i.stringify)(t,"&","=")},e.getQueryStringParameter=function(t,e){for(var n=o(),r=n.length-1;0<=r;r--){var i=n[r].split("=");if(e){if((i[0]+"").toLowerCase()==(t+"").toLowerCase())return i[1]}else if(i[0]===t)return i[1]}}},function(t,e,n){"use strict";e.__esModule=!0;var o,r,i=n(9),a=n(10);n=(o=n(44))&&o.__esModule?o:{default:o},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,r=n.default),s.prototype.getVisitInfo=function(){var t="_tccl_visitor",e="_tccl_visit",n=(0,i.findCookie)(t),o=(0,i.findCookie)(e);return n||o?(n=n||(0,a.createGuid)(),o=o||(0,a.createGuid)()):n=o=(0,a.createGuid)(),(0,i.setCookie)(t,n,525600,"/"),(0,i.setCookie)(e,o,30,"/"),{visitorGuid:n,visitGuid:o}},n=s;function s(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.apply(this,arguments))}e.default=n},function(t,e,n){"use strict";var o=n(5),r=n(0),i=n(1),a=n(8),s=b(n(24)),u=n(31),c=n(7),f=b(n(32)),p=b(n(34)),l=n(35),d=b(l),h=b(n(37)),y=b(n(21)),g=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(47)),v=n(50),m=n(19);function b(t){return t&&t.__esModule?t:{default:t}}function _(){var t;w||(w=!0,(0,v.observePerfMetrics)(),d.default.init("complete"===(0,r.getDocument)().readyState,(function(t){(0,r.getWindow)().addEventListener("load",t)})),(0,m.init)(),(new y.default).getVisitInfo(),t=new s.default({schemaHelper:new f.default(h.default),pageViewSchema:"add_page_view",autoPageViewDisabled:!1,immediateSchemas:[]}),d.default.registerOnLoadFn((function(){t.start(),(0,u.init)(g),p.default.get(E+".perfOn")&&(0,v.getPerformanceData)(E,"auto")})),(0,i.log)("TCCL STARTED",p.default.getProperties()))}var w=!1,E="tccl";(0,l.withCookieCache)((function(){var t,e;(0,r.isSupported)()&&((0,o.setClientName)(E),(0,a.init)("_trfd",[E]),(0,c.init)((e=p.default.get(E+".baseHost"))?"secureserver.net"===e?"prod":"test-secureserver.net"===e?"test":"dev":p.default.get(E+".buildEnv")),(0,o.libraryLoaded)()?(0,i.error)("TCCL Library has already been loaded on page"):"prerender"!==(t=(0,r.getDocument)()).visibilityState?_():t.addEventListener("visibilitychange",(function(){"prerender"!==t.visibilityState&&"unloaded"!==t.visibilityState&&_()})))}))},function(t,e,n){"use strict";e.buildMessage=function(){return""}},function(t,e,n){"use strict";e.__esModule=!0;var o,r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(n(1)),a=n(10),s=(o=n(17))&&o.__esModule?o:{default:o},u=n(8),c=["_expDataLayer","_signalsDataLayer"];(function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)})(f,r=s.default),f.prototype.push=function(t){return this.immediateSchemas.includes(t.schema)?this.process(t):r.prototype.push.call(this,t)},f.prototype._initEvents=function(){for(var t=!this.autoPageViewDisabled,e=this.asyncCommands.length-1;0<=e;e--){var n=this.asyncCommands[e];n.schema!==this.pageViewSchema||n.data&&n.data.virtual_path||(t=!1),"set_config"===n.schema&&this.process.apply(this,this.asyncCommands.splice(e,1))}t&&this.process({schema:this.pageViewSchema})},f.prototype.process=function(t){r.prototype.pushLog.call(this,t);try{var e=t.data,n=t.schema,o=t.type,s=t.version||"v1",c=t.sinks,f={eventId:(0,a.createGuid)()};this.onProcess&&this.onProcess(),(0,u.processPageLevelProperties)(),this.schemaHelper.handleSchema(n,o,s,e,f,c)}catch(e){t=["Unable to process",t,"\n\n"],i.error.apply(i,t.concat(e))}},s=f;function f(t){var e=t.schemaHelper,n=t.pageViewSchema,o=t.autoPageViewDisabled,i=t.onProcess,a=t.immediateSchemas;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,f),t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,c)),t.schemaHelper=e,t.pageViewSchema=n,t.autoPageViewDisabled=o,t.onProcess=i,t.immediateSchemas=a,t._initEvents(),t}e.default=s},function(t,e,n){var o=n(26);n=n(28);t.exports=o("v5",80,n)},function(t,e,n){var o=n(27);t.exports=function(t,e,n){function r(t,r,i,a){var s,u=i&&a||0;if("string"==typeof t&&(t=function(t){for(var e=Array((t=unescape(encodeURIComponent(t))).length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(t)),"string"==typeof r&&(s=[],r.replace(/[a-fA-F0-9]{2}/g,(function(t){s.push(parseInt(t,16))})),r=s),!Array.isArray(t))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");var c=n(r.concat(t));if(c[6]=15&c[6]|e,c[8]=63&c[8]|128,i)for(var f=0;f<16;++f)i[u+f]=c[f];return i||o(c)}try{r.name=t}catch(t){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}},function(t,e){for(var n=[],o=0;o<256;++o)n[o]=(o+256).toString(16).substr(1);t.exports=function(t,e){return e=e||0,""+n[t[e++]]+n[t[e++]]+n[t[e++]]+n[t[e++]]+"-"+n[t[e++]]+n[t[e++]]+"-"+n[t[e++]]+n[t[e++]]+"-"+n[t[e++]]+n[t[e++]]+"-"+n[t[e++]]+n[t[e++]]+n[t[e++]]+n[t[e++]]+n[t[e++]]+n[t[e++]]}},function(t,e,n){"use strict";function o(t,e){return t<<e|t>>>32-e}t.exports=function(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var r=unescape(encodeURIComponent(t));t=Array(r.length);for(var i=0;i<r.length;i++)t[i]=r.charCodeAt(i)}t.push(128);var a=t.length/4+2,s=Math.ceil(a/16),u=Array(s);for(i=0;i<s;i++){u[i]=Array(16);for(var c=0;c<16;c++)u[i][c]=t[64*i+4*c]<<24|t[64*i+4*c+1]<<16|t[64*i+4*c+2]<<8|t[64*i+4*c+3]}for(u[s-1][14]=8*(t.length-1)/4294967296,u[s-1][14]=Math.floor(u[s-1][14]),u[s-1][15]=8*(t.length-1)&4294967295,i=0;i<s;i++){for(var f=Array(80),p=0;p<16;p++)f[p]=u[i][p];for(p=16;p<80;p++)f[p]=o(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);var l=n[0],d=n[1],h=n[2],y=n[3],g=n[4];for(p=0;p<80;p++){var v=Math.floor(p/20);v=o(l,5)+function(t,e,n,o){switch(t){case 0:return e&n^~e&o;case 1:case 3:return e^n^o;case 2:return e&n^e&o^n&o}}(v,d,h,y)+g+e[v]+f[p]>>>0,g=y,y=h,h=o(d,30)>>>0,d=l,l=v}n[0]=n[0]+l>>>0,n[1]=n[1]+d>>>0,n[2]=n[2]+h>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+g>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},function(t,e,n){"use strict";e.sha256=function(t){function e(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function n(t,e){return t>>>e|t<<32-e}function o(t,e){return t>>>e}return function(t){for(var e="0123456789abcdef",n="",o=0;o<4*t.length;o++)n+=(e[0|t[o>>2]>>8*(3-o%4)+4&15]||"")+(e[0|t[o>>2]>>8*(3-o%4)&15]||"");return n}(function(t,r){var i,a,s,u=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],c=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],f=Array(64),p=void 0,l=void 0,d=void 0,h=void 0,y=void 0,g=void 0,v=void 0,m=void 0,b=void 0,_=void 0;for(t[r>>5]|=128<<24-r%32,t[15+(r+64>>9<<4)]=r,b=0;b<t.length;b+=16){for(p=c[0],l=c[1],d=c[2],h=c[3],y=c[4],g=c[5],v=c[6],m=c[7],_=0;_<64;_++)f[_]=_<16?t[_+b]:e(e(e(n(s=f[_-2],17)^n(s,19)^o(s,10),f[_-7]),n(s=f[_-15],7)^n(s,18)^o(s,3)),f[_-16]),i=e(e(e(e(m,n(y,6)^n(y,11)^n(y,25)),y&g^~y&v),u[_]),f[_]),a=e(n(p,2)^n(p,13)^n(p,22),p&l^p&d^l&d),m=v,v=g,g=y,y=e(h,i),h=d,d=l,l=p,p=e(i,a);c[0]=e(p,c[0]),c[1]=e(l,c[1]),c[2]=e(d,c[2]),c[3]=e(h,c[3]),c[4]=e(y,c[4]),c[5]=e(g,c[5]),c[6]=e(v,c[6]),c[7]=e(m,c[7])}return c}(function(t){for(var e=[],n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}(t=function(t){t=t.replace(/\r\n/g,"\n");for(var e="",n=0;n<t.length;n++){var o=t.charCodeAt(n);o<128?e+=String.fromCharCode(o):(127<o&&o<2048?e+=String.fromCharCode(o>>6|192):(e+=String.fromCharCode(o>>12|224),e+=String.fromCharCode(o>>6&63|128)),e+=String.fromCharCode(63&o|128))}return e}(t)),8*t.length))}},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(6);n=new((o=r)&&o.__esModule?o:{default:o}).default,e.default=n},function(t,e,n){"use strict";e.init=void 0;var o,r,i=n(1),a=(n=(o=n(17))&&o.__esModule?o:{default:o},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(s,r=n.default),s.prototype.process=function(t){r.prototype.pushLog.call(this,t);try{var e=Array.prototype.slice.call(t,1),n=t[0];this.handlers[n]?this.handlers[n].apply(null,e):(0,i.error)("Invalid command sent to data layer",this.dataLayerName,t)}catch(e){(0,i.error)("Unable to process",t,e)}},s);function s(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s);var e=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.call(this,"_trfq"));return e.handlers=t,e.start(),e}e.init=function(t){return new a(t)}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(18);function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.commandSchemaDefinitions=t}r.prototype.handleSchema=function(t,e,n,r,i,a){(n=new o.SchemaDefinitionBlock(this.commandSchemaDefinitions,t,e,n)).schema.handler&&(a=a||n.schema.sinks||[],r=n.parse(r,a),new n.schema.handler(this).load(n.type,n.version,a,r,i,n.schema.config))},n=r,e.default=n},function(t,e,n){"use strict";e.STRING_TYPE="string",e.OPTIONAL_FIELD="OPTIONAL",e.REQUIRED_FIELD="REQUIRED",e.CALCULATED_FIELD="CALCULATED",e.MAPPING="map",e.SUBSTITUTE="sub"},function(t,e,n){"use strict";e.__esModule=!0;var o,r=n(4);(n=(o=r)&&o.__esModule?o:{default:o}).default.merge({"tccl.perfOn":!0,"tccl.buildVersion":"2.0.2","tccl.buildEnv":"prod","tccl.buildName":"tccl"}),e.default=n.default},function(t,e,n){"use strict";e.__esModule=!0,e.withCookieCache=void 0;var o,r=n(0),i=n(36);n=new((o=i)&&o.__esModule?o:{default:o}).default,e.default=n,e.withCookieCache=function(t){try{var e=(0,r.getDocument)().cookie,n=void 0;Object.defineProperty(document,"cookie",{get:function(){return e},set:function(t){(n=n||Object.getOwnPropertyDescriptor(Document.prototype,"cookie")).set.call(document,t),e=n.get.call(document)},configurable:!0,enumerable:!0}),t()}finally{delete(0,r.getDocument)().cookie}}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(1);function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}r.prototype._executeFn=function(t){try{t()}catch(e){(0,o.error)("Exception while executing onLoad callback",t,e)}},r.prototype._triggerOnLoad=function(){this._loaded=!0;for(var t=0;t<this._onLoadFns.length;t++)this._executeFn(this._onLoadFns[t])},r.prototype.registerOnLoadFn=function(t){var e;(e=t)&&"[object Function]"==={}.toString.call(e)&&(this._loaded?this._executeFn(t):this._onLoadFns.push(t))},r.prototype.init=function(t,e){this._loaded=!1,this._onLoadFns=[],t?this._loaded=!0:e(this._triggerOnLoad.bind(this))},n=r,e.default=n},function(t,e,n){"use strict";e.__esModule=!0;var o=n(18),r=s(n(38)),i=s(n(45)),a=s(n(46));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(){return[new o.PropertyDefinitionBlock("custom_properties").optional()]};n=function(){return[new o.PropertyDefinitionBlock("eid").optional()]},u={add_event:{v1:{handler:r.default,data:[new o.PropertyDefinitionBlock("type").required(),(new o.ObjectDefinitionBlock).substitute(n()),(new o.ObjectDefinitionBlock).substitute(u())]}},add_page_view:{v1:{handler:i.default,data:[new o.PropertyDefinitionBlock("path").optional(),(new o.ObjectDefinitionBlock).substitute(n()),(new o.ObjectDefinitionBlock).substitute(u())]}},add_perf:{v1:{handler:a.default,data:[new o.PropertyDefinitionBlock("timing_object").required(),new o.PropertyDefinitionBlock("is_hard_navigation").optional(),(new o.ObjectDefinitionBlock).substitute(u())]}}};e.default=u},function(t,e,n){"use strict";e.__esModule=!0;var o,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=(o=n(11))&&o.__esModule?o:{default:o},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,r=n.default),a.prototype.preProcess=function(){r.prototype.preProcess.call(this),this._setPageEventTcclProperties()},a.prototype._setPageEventTcclProperties=function(){this.pageEvent.set("ht","pageevent"),this.pageEvent.set("ea",this.data.ALL.type),this.pageEvent.set("eid",this.data.ALL.eid),"object"===i(this.data.ALL.fields_object)&&this.pageEvent.merge(this.data.ALL.fields_object)},n=a;function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.apply(this,arguments))}e.default=n},function(t,e,n){"use strict";e.__esModule=!0;var o=n(2);function r(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),this.schemaHelper=t}r.prototype.preProcess=function(){},r.prototype.load=function(t,e,n,o,r,i){this.schemaType=t,this.schemaVersion=e,this.sinks=["ALL"].concat(n),this.data=o,this.internal=r||{},this.config=i||{},this.preProcess(),this.process()},r.prototype.process=function(t){var e=this;this.sinks&&0<this.sinks.length&&(0,o.map)(t,(function(t,n){~e.sinks.indexOf(t)&&n(e.data[t])}))},n=r,e.default=n},function(t,e,n){"use strict";e.removePII=void 0,n(1);var o=[{name:"EMAIL",regex:/[^@^=]+@[^@]+\.[^@^&]+/}];e.removePII=function(t,e){if("string"!=typeof t)return t;for(var n=t,r=0;r<o.length;r++)for(var i=o[r].regex,a=n.match(i);a&&a[0];)a=(n=n.replace(a[0],"REDACTED")).match(i);return n}},function(t,e,n){"use strict";e.buildCorporateUrl=void 0,n(20),n(15);var o,r=n(0),i=n(7);(o=n(4))&&o.__esModule,n(10),n(8),n(9);var a=void 0;e.buildCorporateUrl=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return"https://"+(t?t+".":"")+function(){if(a)return a;var t,e=(0,r.getBaseHost)();return"secureserver.net"===(e=(0,r.isCorporateHost)(e)?e:"secureserver.net")&&(e="prod"===(t=(0,i.getEnvName)())?e:t+"-"+e),a=e}()}},function(t,e,n){"use strict";function o(t,e,n,o,i){i={endpoint:e,queryParams:n,method:o,payload:i},(0,a.logToArray)((0,r.getInternalVar)(t),i)}e.makeRequest=void 0;var r=n(5),i=n(0),a=n(3),s=(n(1),n(2)),u=(n=(0,i.getWindow)().Request)&&"keepalive"in new n(""),c=void 0!==(0,i.getNavigator)().sendBeacon;e.makeRequest=function(t,e,n,r,a,f,p){var l=(0,s.merge)({},f),d=r?JSON.stringify(r):null;"POST"===n&&(l["Content-Type"]="application/json");var h,y=void 0;if(c&&!l.Authorization&&"POST"===n)try{var g=(0,i.getWindow)().Blob;y=(0,i.getNavigator)().sendBeacon(t,new g([d],l))}catch(t){y=!1}y||(f=(0,i.getWindow)().fetch,u&&f?f(t,{keepalive:!0,method:n,headers:l,body:d,credentials:p}):(y=t,f=n,p=d,d=l,(l=(0,i.getWindow)().XMLHttpRequest)&&((h=new l).open(f,y,!0),(0,s.map)(d,(function(t,e){h.setRequestHeader(t,e)})),h.send(p)))),o(a,t,e,n,r)}},function(t,e,n){"use strict";var o=(n=n(0)).getDocument,r=n.getWindow,i=n.getNavigator;e.getHostname=function(){return r().location.hostname},e.getPageName=function(t){return"string"!=typeof(t=t||r().location.pathname)||void 0===t||""===t?"notspecified":(t=t.lastIndexOf("/")==t.length-1?t.substring(0,t.length-1):t).indexOf("/")?"/"+t:t},e.getReferrer=function(t){var e=o().referrer;return void 0!==e?e.substr(0,t):void 0},e.getUserAgent=function(){return i().userAgent}},function(t,e,n){"use strict";e.__esModule=!0;var o=(r.prototype.getVisitInfo=function(){},r);function r(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r)}e.default=o},function(t,e,n){"use strict";e.__esModule=!0;var o,r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n=(o=n(11))&&o.__esModule?o:{default:o},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,r=n.default),a.prototype.preProcess=function(){r.prototype.preProcess.call(this),this._setPageViewTcclProperties()},a.prototype._setPageViewTcclProperties=function(){this.pageEvent.set("ht","pageview"),this.pageEvent.set("eid",this.data.ALL.eid),"object"===i(this.data.ALL.fields_object)&&this.pageEvent.merge(this.data.ALL.fields_object)},n=a;function a(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.apply(this,arguments))}e.default=n},function(t,e,n){"use strict";e.__esModule=!0;var o,r;n=(o=n(11))&&o.__esModule?o:{default:o},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,r=n.default),i.prototype.preProcess=function(){r.prototype.preProcess.call(this),this._setPerfTcclProperties()},i.prototype._setPerfTcclProperties=function(){this.pageEvent.set("ht","perf");var t=this.data.ALL.timing_object||{};this.pageEvent.merge("navigationStart"in t?{tce:t.connectEnd,tcs:t.connectStart,tdc:t.domComplete,tdclee:t.domContentLoadedEventEnd,tdcles:t.domContentLoadedEventStart,tdi:t.domInteractive,tdl:t.domLoading,tdle:t.domainLookupEnd,tdls:t.domainLookupStart,tfs:t.fetchStart,tns:t.navigationStart,trqs:t.requestStart,tre:t.responseEnd,trps:t.responseStart,tles:t.loadEventStart,tlee:t.loadEventEnd,nt:t.navigationType,lcp:t.largestContentfulPaint}:t),this.data.ALL.is_hard_navigation?this.pageEvent.set("nav_type","hard"):this.pageEvent.set("nav_type","soft")},n=i;function i(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,r.apply(this,arguments))}e.default=n},function(t,e,n){"use strict";e.__esModule=!0,e.cmdLogPerf=e.cmdLogEvent=void 0;var o=r(n(48));n=r(n(49));function r(t){return t&&t.__esModule?t:{default:t}}e.cmdLogEvent=o.default,e.cmdLogPerf=n.default},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),r=n(12);e.default=function(t,e,n,i){(0,o.getWindow)()._expDataLayer.push({schema:"add_event",version:"v1",data:{type:t,eid:e,custom_properties:(0,r.getObjFromTDataList)(n),fields_object:i}})}},function(t,e,n){"use strict";e.__esModule=!0;var o=n(0),r=n(12);e.default=function(t,e){(0,o.getWindow)()._expDataLayer.push({schema:"add_perf",version:"v1",data:{timing_object:t,custom_properties:(0,r.getObjFromTDataList)(e)}})}},function(t,e,n){"use strict";e.observePerfMetrics=e.getPerformanceData=void 0;var o,r=n(1),i=n(0),a=n(2),s=(o=n(4))&&o.__esModule?o:{default:o},u=n(3);function c(t,e,n){for(var o=0;o<n.length;o++){var r=n[o],i=e[r];void 0!==i&&(t[r]=Math.round(i))}}function f(t,e){var n,o,a,s,f,p,l,h={};"tcc"===t&&(h.tccin=e||"na");try{(d=(0,i.getWindow)().performance)&&d.timing?(c(f=h,d.timing,g),!d.getEntriesByName||(l=!(l=d.getEntriesByName((0,i.getDocument)().location.href)[0])&&d.getEntriesByType?(p=d.getEntriesByType("navigation"))[p.length-1]:l)&&(c(f,l,v),f.navigationType=l.type),"tcc"===t&&(a=h,d.getEntriesByType&&(s=d.getEntriesByType("mark"),(0,u.isArray)(s)&&(a.marks=s.slice(0,10).map((function(t){return{name:t.name,startTime:Math.round(t.startTime)}})),s=d.getEntriesByType("measure"),(0,u.isArray)(s)&&(a.measures=s.slice(0,10).map((function(t){return{name:t.name,duration:Math.round(t.duration)}}))))),n=h,!d.getEntriesByType||(o=d.getEntriesByType("paint"))&&o.forEach((function(t){n[y[t.name]]=Math.round(t.startTime)})))):("tcc"===t&&(h.tccperfapi="not supported"),(0,r.error)("Error loading performance lib"))}catch(t){(0,r.error)("_collect unable to get performance data",t)}return h}function p(t,e,n){setTimeout((function(){(0,i.getWindow)()._expDataLayer=(0,i.getWindow)()._expDataLayer||[],(0,i.getWindow)()._expDataLayer.push({schema:"add_perf",version:"v1",data:"tcc"===t?{type:"pageperf",properties:(0,a.merge)(e,h,{nav_type:"hard"}),custom_properties:n}:{timing_object:(0,a.merge)(e,{largestContentfulPaint:h.lcp}),is_hard_navigation:!0,custom_properties:n}})}),0)}function l(){return!(d=(0,i.getWindow)().performance)||!d.timing||0<d.timing.loadEventStart}var d=void 0,h={},y={"first-paint":"fp","first-contentful-paint":"fcp"},g=["connectEnd","connectStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","domainLookupEnd","domainLookupStart","fetchStart","navigationStart","requestStart","responseEnd","responseStart","loadEventStart","loadEventEnd"],v=["transferSize","encodedBodySize","decodedBodySize"],m=!1;e.getPerformanceData=function(t,e,n){var o,r;"manual"!==e&&m||(m=!0,l()?p(t,f(t,e),n):(o=s.default.get(t+".perfDelayMs")||250,r=setInterval((function(){l()&&(clearInterval(r),p(t,f(t,e),n))}),o)))},e.observePerfMetrics=function(){var t=(0,i.getWindow)();if(t.PerformanceObserver){t=new t.PerformanceObserver((function(t){(t=(t=t.getEntries())[t.length-1]).renderTime&&(h.lcp=Math.round(t.startTime))}));try{t.observe({type:"largest-contentful-paint",buffered:!0})}catch(t){}}}}],n={},t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(t){return e[t]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},t.p="",t(t.s=22);function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var e,n}));