var ExactMetrics=function(){var e=[],t="";function n(){return!!window.exactmetrics_debug_mode}function a(t,n){t=void 0!==t?t:[],n=void 0!==n?n:{},__gaTracker("send",n),e.valuesArray=t,e.fieldsArray=n,e.tracked=!0,r("Tracked: "+t.type),r(e)}function i(t){t=void 0!==t?t:[],e.valuesArray=t,e.fieldsArray=[],e.tracked=!1,r("Not Tracked: "+t.exit),r(e)}function r(e){n()&&console.dir(e)}function o(e){return e.replace(/^\s+|\s+$/gm,"")}function l(){for(var e=0,t=document.domain,n=t.split("."),a="_gd"+(new Date).getTime();e<n.length-1&&-1==document.cookie.indexOf(a+"="+a);)t=n.slice(-1-++e).join("."),document.cookie=a+"="+a+";domain="+t+";";return document.cookie=a+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;domain="+t+";",t}function c(e){return(e=(e=(e=(e=e.toString()).substring(0,-1==e.indexOf("#")?e.length:e.indexOf("#"))).substring(0,-1==e.indexOf("?")?e.length:e.indexOf("?"))).substring(e.lastIndexOf("/")+1,e.length)).length>0&&-1!==e.indexOf(".")?e=e.substring(e.indexOf(".")+1):""}function s(){return"undefined"!=typeof __gaTracker&&__gaTracker&&__gaTracker.hasOwnProperty("loaded")&&1==__gaTracker.loaded}function h(){var e=[];return"string"==typeof exactmetrics_frontend.download_extensions&&(e=exactmetrics_frontend.download_extensions.split(",")),e}function u(){var e=[];return"string"==typeof exactmetrics_frontend.inbound_paths&&(e=JSON.parse(exactmetrics_frontend.inbound_paths)),e}function d(e){var n=h(),a=u(),i="unknown",r=e.href,s=c(e.href),d=l(),f=e.hostname,g=e.protocol,v=e.pathname;r=r.toString();var p,b,m=e.getAttribute("data-vars-ga-category");if(m)return m;if(r.match(/^javascript\:/i))i="internal";else if(g&&g.length>0&&("tel"==o(g)||"tel:"==o(g)))i="tel";else if(g&&g.length>0&&("mailto"==o(g)||"mailto:"==o(g)))i="mailto";else if(f&&d&&f.length>0&&d.length>0&&!f.endsWith("."+d)&&f!==d)i="external";else if(v&&"{}"!=JSON.stringify(a)&&v.length>0){for(var y=a.length,x=0;x<y;x++)if(a[x].path&&a[x].label&&a[x].path.length>0&&a[x].label.length>0&&v.startsWith(a[x].path)){i="internal-as-outbound",t="outbound-link-"+a[x].label;break}}else f&&window.exactmetrics_experimental_mode&&f.length>0&&document.domain.length>0&&f!==document.domain&&(i="cross-hostname");if(s&&("unknown"===i||"external"===i)&&n.length>0&&s.length>0)for(p=0,b=n.length;p<b;++p)if(n[p].length>0&&(r.endsWith(n[p])||n[p]==s)){i="download";break}return"unknown"===i&&(i="internal"),i}function f(e){return e.getAttribute("data-vars-ga-label")&&e.getAttribute("data-vars-ga-label").replace(/\n/gi,"")?e.getAttribute("data-vars-ga-label").replace(/\n/gi,""):e.title&&e.title.replace(/\n/gi,"")?e.title.replace(/\n/gi,""):e.innerText&&e.innerText.replace(/\n/gi,"")?e.innerText.replace(/\n/gi,""):e.getAttribute("aria-label")&&e.getAttribute("aria-label").replace(/\n/gi,"")?e.getAttribute("aria-label").replace(/\n/gi,""):e.alt&&e.alt.replace(/\n/gi,"")?e.alt.replace(/\n/gi,""):e.textContent&&e.textContent.replace(/\n/gi,"")?e.textContent.replace(/\n/gi,""):void 0}function g(e){var r,o=e.srcElement||e.target,g=[];if(g.el=o,g.ga_loaded=s(),g.click_type=function(e){return 1==e.which?"event.which=1":2==e.which?"event.which=2":e.metaKey?"metaKey":e.ctrlKey?"ctrlKey":e.shiftKey?"shiftKey":e.altKey?"altKey":""}(e),!s()||!function(e){return 1==e.which||2==e.which||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey}(e))return g.exit="loaded",void i(g);for(;o&&(void 0===o.tagName||"a"!=o.tagName.toLowerCase()||!o.href);)o=o.parentNode;if(o&&o.href&&!o.hasAttribute("xlink:href")){var v=o.href,p=c(o.href),b=h(),m=u(),y=exactmetrics_frontend.home_url,x=(l(),d(o)),w=function(e,t){var n=!(!e.target||e.target.match(/^_(self|parent|top)$/i))&&e.target;return(t.ctrlKey||t.shiftKey||t.metaKey||2==t.which)&&(n="_blank"),n}(o,e),_=o.getAttribute("data-vars-ga-action"),k=o.getAttribute("data-vars-ga-label");if(g.el=o,g.el_href=o.href,g.el_protocol=o.protocol,g.el_hostname=o.hostname,g.el_port=o.port,g.el_pathname=o.pathname,g.el_search=o.search,g.el_hash=o.hash,g.el_host=o.host,g.debug_mode=n(),g.download_extensions=b,g.inbound_paths=m,g.home_url=y,g.link=v,g.extension=p,g.type=x,g.target=w,g.title=f(o),g.label||g.title||(g.title=function(e){for(var t,n=e.children,a=0,i=0;i<n.length;i++){if(t=f(n[i]))return t;if(99==a)return;a++}}(o)),"internal"!==x&&"javascript"!==x){var T=!1,A=function(){T||(T=!0,window.location.href=v)};w||"mailto"==x||"tel"==x?"download"==x?(r={hitType:"event",eventCategory:"download",eventAction:_||v,eventLabel:k||g.title},a(g,r)):"tel"==x?(r={hitType:"event",eventCategory:"tel",eventAction:_||v,eventLabel:k||g.title.replace("tel:","")},a(g,r)):"mailto"==x?(r={hitType:"event",eventCategory:"mailto",eventAction:_||v,eventLabel:k||g.title.replace("mailto:","")},a(g,r)):"internal-as-outbound"==x?(r={hitType:"event",eventCategory:t,eventAction:_||v,eventLabel:k||g.title},a(g,r)):"external"==x?(r={hitType:"event",eventCategory:"outbound-link",eventAction:_||v,eventLabel:k||g.title},a(g,r)):"cross-hostname"==x?(r={hitType:"event",eventCategory:"cross-hostname",eventAction:_||v,eventLabel:k||g.title},a(g,r)):x&&"internal"!=x?(r={hitType:"event",eventCategory:x,eventAction:_||v,eventLabel:k||g.title},a(g,r)):(g.exit="type",i(g)):("cross-hostname"!=x&&"external"!=x&&"internal-as-outbound"!=x&&(e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1)),"download"==x?(r={hitType:"event",eventCategory:"download",eventAction:_||v,eventLabel:k||g.title,hitCallback:A},a(g,r)):"internal-as-outbound"==x?window.onbeforeunload=function(n){e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1),r={hitType:"event",eventCategory:t,eventAction:_||v,eventLabel:k||g.title,hitCallback:A},navigator.sendBeacon&&(r.transport="beacon"),a(g,r),setTimeout(A,1e3)}:"external"==x?window.onbeforeunload=function(t){e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1),r={hitType:"event",eventCategory:"outbound-link",eventAction:_||v,eventLabel:k||g.title,hitCallback:A},navigator.sendBeacon&&(r.transport="beacon"),a(g,r),setTimeout(A,1e3)}:"cross-hostname"==x?window.onbeforeunload=function(t){e.defaultPrevented||(e.preventDefault?e.preventDefault():e.returnValue=!1),r={hitType:"event",eventCategory:"cross-hostname",eventAction:_||v,eventLabel:k||g.title,hitCallback:A},navigator.sendBeacon&&(r.transport="beacon"),a(g,r),setTimeout(A,1e3)}:x&&"internal"!==x?(r={hitType:"event",eventCategory:x,eventAction:_||v,eventLabel:k||g.title,hitCallback:A},a(g,r)):(g.exit="type",i(g)),"external"!=x&&"cross-hostname"!=x&&"internal-as-outbound"!=x?setTimeout(A,1e3):"external"==x?setTimeout((function(){g.exit="external",i(g)}),1100):"cross-hostname"==x?setTimeout((function(){g.exit="cross-hostname",i(g)}),1100):setTimeout((function(){g.exit="internal-as-outbound",i(g)}),1100))}else g.exit="internal",i(g)}else g.exit="notlink",i(g)}this.setLastClicked=function(t,n,a){t=void 0!==t?t:[],n=void 0!==n?n:[],a=void 0!==a&&a,e.valuesArray=t,e.fieldsArray=n},this.getLastClicked=function(){return e},this.setInternalAsOutboundCategory=function(e){t=e},this.getInternalAsOutboundCategory=function(){return t},this.sendEvent=function(e){a([],e)};var v=window.location.hash;function p(){"true"===exactmetrics_frontend.hash_tracking&&v!=window.location.hash?(v=window.location.hash,__gaTracker("set","page",location.pathname+location.search+location.hash),__gaTracker("send","pageview"),r("Hash change to: "+location.pathname+location.search+location.hash)):r("Hash change to (untracked): "+location.pathname+location.search+location.hash)}var b=window;b.addEventListener?(b.addEventListener("load",(function(){document.body.addEventListener("click",g,!1)}),!1),window.addEventListener("hashchange",p,!1)):b.attachEvent&&(b.attachEvent("onload",(function(){document.body.attachEvent("onclick",g)})),window.attachEvent("onhashchange",p)),"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(e){return-1!==this.indexOf(e,this.length-e.length)}),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return 0===this.indexOf(e)}),"function"!=typeof Array.prototype.lastIndexOf&&(Array.prototype.lastIndexOf=function(e){"use strict";if(null==this)throw new TypeError;var t,n,a=Object(this),i=a.length>>>0;if(0===i)return-1;for(t=i-1,arguments.length>1&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(t>0||-1)*Math.floor(Math.abs(t)))),n=t>=0?Math.min(t,i-1):i-Math.abs(t);n>=0;n--)if(n in a&&a[n]===e)return n;return-1})},ExactMetricsObject=new ExactMetrics;